RewriteEngine On

# Forçar HTTPS em produção (descomente quando em produção)
# RewriteCond %{HTTPS} off
# RewriteCond %{HTTP:X-Forwarded-Proto} !https
# RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# Configuração da pasta raiz do projeto
RewriteBase /Up.BaloesV3/

# Se o arquivo ou pasta existir, não faz nada (carrega o arquivo real)
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

# Ignora pastas de sistema e arquivos estáticos
RewriteCond %{REQUEST_URI} !^/Up\.BaloesV3/(pages|services|css|js|Images|utils|database|uploads)/
RewriteCond %{REQUEST_URI} !^/Up\.BaloesV3/.*\.(html|php|css|js|jpg|jpeg|png|gif|ico|svg|woff|woff2|ttf|eot)$

# Redireciona slugs de decoradores para 'pagina-decorador.php'
# Aceita apenas letras, números e hífens (slug válido)
RewriteRule ^([a-zA-Z0-9-]+)/?$ services/pagina-decorador.php?slug=$1 [L,QSA]

# Segurança
<Files "*.sql">
    Order Allow,Deny
    Deny from all
</Files>
<Files "*.log">
    Order Allow,Deny
    Deny from all
</Files>

Options -Indexes