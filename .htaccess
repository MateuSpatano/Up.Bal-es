RewriteEngine On

# Tenta detectar o diretório base automaticamente
# Se sua pasta não for detectada, descomente a linha abaixo e coloque o nome da pasta
# RewriteBase /NomeDaSuaPasta/

# Não aplicar regras para arquivos ou diretórios reais
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

# Ignorar pastas do sistema para evitar loops (ajustado para ser genérico)
RewriteCond %{REQUEST_URI} !^/.+/(pages|services|css|js|Images|utils|database|docs|components)/

# Regra principal: Captura o slug e envia para a página do decorador
RewriteRule ^([a-z0-9-]+)/?$ services/pagina-decorador.php?slug=$1 [L,QSA]

# Configurações de segurança e cache (mantidas)
<Files "*.sql">
    Order Allow,Deny
    Deny from all
</Files>

<Files "*.log">
    Order Allow,Deny
    Deny from all
</Files>